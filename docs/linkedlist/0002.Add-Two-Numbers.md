---
sidebarDepth: 3
---

# 0002. Add Two Numbers

## Description

You are given two non-empty linked lists representing two non-negative integers. The digits are stored in reverse order and each of their nodes contain a single digit. Add the two numbers and return it as a linked list.

You may assume the two numbers do not contain any leading zero, except the number 0 itself.

```txt
Example:

Input: (2 -> 4 -> 3) + (5 -> 6 -> 4)
Output: 7 -> 0 -> 8
Explanation: 342 + 465 = 807.
```

**Links:**

[(en)https://leetcode.com/problems/](https://leetcode.com/problems/add-two-numbers/)
<br />
[(ä¸­æ–‡)https://leetcode-cn.com/problems/](https://leetcode-cn.com/problems/add-two-numbers/)

## Solutions

æ­¤é¢˜æ²¡ä»€ä¹ˆç‰¹åˆ«éœ€è¦æ³¨æ„çš„åœ°æ–¹ï¼Œä¸»è¦è€ƒéªŒæ˜¯å¦ç†Ÿæ‚‰é“¾è¡¨ï¼Œé“¾è¡¨çš„éå†ï¼Œç»“ç‚¹çš„æ’å…¥ã€‚


### Solution1

ç”±äºé¢˜ç›®ç»™å‡ºï¼Œéœ€è¦ç›¸åŠ çš„æ•°å­—æ˜¯ç¿»è½¬è¿‡åçš„ï¼Œå› æ­¤ç›´æ¥ä»éå†é“¾è¡¨ï¼Œç»“ç‚¹ä¸¤ä¸¤ç›¸åŠ å¹¶è€ƒè™‘è¿›ä½ï¼Œç›´åˆ°æŸä¸€é“¾è¡¨éå†å®Œæˆã€‚

::: tip key point: æ¯æ¬¡ç»“ç‚¹å€¼ç›¸åŠ æ—¶ï¼Œåˆ¤æ–­å½“å‰ç»“ç‚¹å€¼æ˜¯å¦åˆæ³•ï¼Œä¸åˆæ³•åˆ™ä»æ­¤ç»“ç‚¹å¼€å§‹éå†åˆ°é“¾è¡¨å°¾éƒ¨è¿›è¡Œè°ƒæ•´
:::

ä¹ä¸€çœ‹ï¼Œè¿™ç§å®ç°æ–¹å¼ï¼Œæ¯æ¬¡å‘ç”Ÿè¿›ä½éƒ½è¿›è¡Œä¸€æ¬¡éå†åˆ°é“¾è¡¨å°¾éƒ¨çš„è°ƒæ•´, å¥½åƒæ•ˆç‡ä¸é«˜ã€‚

ä½†æ˜¯ï¼Œè€ƒè™‘è¿™æ ·çš„æƒ…å½¢: å½“ä¸€ä¸ªæ•°æ¯”å¦ä¸€ä¸ªæ•°å¤§å¾ˆå¤šæ—¶, å°çš„é“¾è¡¨éå†å®Œæˆç®—æ³•ä¹Ÿå®Œæˆäº†
::: warning NOTICE: ä¸€ä¸ªå…¸å‹çš„ä¾‹å­: 99999999999999999999999999999999999999999999999999  å’Œ 1 ç›¸åŠ 

è™½ç„¶å¯ä»¥æå‰ç»ˆæ­¢ç›¸åŠ çš„è¿‡ç¨‹ï¼Œä½†æ˜¯ï¼Œåœ¨ä»£ç å¼€å§‹å‰ï¼Œéœ€è¦è·å–é“¾è¡¨çš„é•¿åº¦æ¥ç¡®å®šå“ªä¸ªæ•°æ¯”è¾ƒå¤§ï¼ŒO(n)

(ğŸ¤” ä¸è¿‡å¯ä»¥ä½¿ç”¨**å¿«æ…¢æŒ‡é’ˆ**æ¥æé«˜è·å–é•¿åº¦çš„æ•ˆç‡ï¼Œä¸‹é¢çš„ä»£ç æ²¡æœ‰ç»™å‡ºï¼Œæ„Ÿå…´è¶£çš„å¯ä»¥è‡ªå·±å®ç°ã€‚)
:::
**Complexity Analysis:**

- Time complexity : O(n)
- Space complexity: O(1)

#### Java Code 

æˆ‘è§£é¢˜æ—¶çš„çº¿ä¸Šæäº¤ä»£ç :

```java
/**
 * Definition for singly-linked list.
 * public class ListNode {
 *     int val;
 *     ListNode next;
 *     ListNode(int x) { val = x; }
 * }
 */
class Solution {
    /**
    NOTICE : this apporach will modify the input list.
    Complexity Analysis:
    Time complexity : O(n)
    Space compleixty: O(1)
    */
    public ListNode addTwoNumbers(ListNode l1, ListNode l2) {
            if (l1 == null) return l2;
            if (l2 == null) return l1;
        // make the longer list as the number to be added.
        int len1 = 0, len2 = 0;
        ListNode c;
        // calc the len of l1
        c = l1;
        while (c != null) {
            c = c.next;
            len1++;
        }
        // calc the len of l2
        c = l2;
        while (c != null) {
            c = c.next;
            len2++;
        }
        ListNode p, q; // p always point the larger number.
        if (len1 > len2) {
            p = l1;
            q = l2;
        } else {
            p = l2;
            q = l1;
        }
        while (p != null && q != null) {
             p.val += q.val;
            if (p.val > 9) {
               format(p);
            }
            p = p.next;
            q = q.next;
        }
        return len1 > len2 ? l1 : l2;
    }
    private void format(ListNode list) {
        ListNode p = list;
        while (p != null) {
            if (p.val > 9) {
                p.val %= 10;
                if (p.next == null) {
                    p.next = new ListNode(1);
                    break;
                }
                p.next.val++;
            }
            p = p.next;
        }
    }
}
```

#### submission status

![](../../images/0002.add-two-numbers-s1.png)

::: tip å¦‚æœä½ ä»”ç»†çœ‹çš„è¯ï¼Œä¸Šé¢çš„ä»£ç è¿˜ä»¥è¿›ä¸€æ­¥ä¼˜åŒ–ï¼ŒğŸ˜¹ã€‚
**è®©è°ƒæ•´çš„ç®—æ³•``format()``å¯ä»¥æå‰ç»ˆæ­¢ï¼Œæ²¡æœ‰éœ€è¦å¤„ç†çš„è¿›ä½æ—¶ï¼Œé¿å…æ— æ„ä¹‰çš„éå†æ“ä½œã€‚**
:::

```java
...
private void format(ListNode list) {
    ListNode p = list;
    boolean flag = true;
    while (p != null) {
        flag = false;
        if (p.val > 9) {
            flag = true;
            p.val %= 10;
            if (p.next == null) {
                p.next = new ListNode(1);
                break;
            }
            p.next.val++;
        }
        if (!flag) break;
        p = p.next;
    }
}
```

### Solution2

è€ƒè™‘åˆ°ç¬¬ä¸€ç§è§£æ³•æ˜¯åœ¨ä¸€ä¸ªé“¾è¡¨çš„åŸºç¡€ä¸Šè¿›è¡Œç›¸åŠ çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥æ–°å»ºä¸€ä¸ªæ¥é“¾è¡¨æ¥å­˜æ”¾ä¸¤ä¸ªé“¾è¡¨ç›¸åŠ çš„ç»“æœ(ä¸å¯¹è¾“å…¥çš„é“¾è¡¨è¿›è¡Œä¿®æ”¹)ã€‚

ğŸ¤”ä¸è¿‡ä¼¼ä¹é¢˜ç›®å¯¹äºæ˜¯å¦ä¿®æ”¹è¾“å…¥çš„é“¾è¡¨ä¹Ÿæ²¡æœ‰è¿›è¡Œé™å®šã€‚

#### Java Code 

```java
class Solution {
    /**
     * since the approach one will modify the input list.
     *
     * this approach will make create a new list to store the results.
     *
     * Complexity Analysis:
     * Time complexity: O(n)
     * Space complexity: O(1)
     *
     * */
    public ListNode addTwoNubmer(ListNode l1, ListNode l2) {
        if (l1 == null) return l2;
        if (l2 == null) return l1;

        ListNode result = new ListNode(0);
        ListNode p = l1, q = l2, cur = result;
        
        int carry = 0;
        while (p != null || q != null) {
            int x = (p != null) ? p.val : 0;
            int y = (q != null) ? q.val : 0;
            int sum = carry + x + y;
            carry = sum / 10;
            cur.next = new ListNode(sum % 10);
            if (p != null) p = p.next;
            if (q != null) q = q.next;
        }
        if (carry > 0) {
            cur.next = new ListNode(carry);
        }
        return result.next;
    }
}
```

::: warning è¿™ç§ç®€æ˜“å®ç°æ–¹å¼æœ‰ä¸€ä¸ªè‡´å‘½çš„å¼±ç‚¹ï¼Œæˆ‘åœ¨ç¬¬ä¸€ä¸ªè§£æ³•ä¸­æåˆ°çš„æƒ…å†µï¼Œå³å½“ä¸€ä¸ªæ•°éå¸¸çš„å¤§è€Œå¦å¤–ä¸€ä¸ªæ•°ä¸”ç›¸å¯¹çš„å°ã€‚<br />
æ­¤ç®—æ³•éå†çš„æ¬¡æ•°æ˜¯å–å†³äºæœ€é•¿çš„é“¾è¡¨çš„é•¿åº¦çš„ã€‚
:::

### Solution 3

æ­¤è§£æ³•ç»¼åˆä¸Šé¢æåˆ°çš„æ–¹æ³•ï¼Œå¯¹è§£æ³•ä¸€ä¸­çš„è°ƒæ•´ç®—æ³•è¿›è¡Œä¼˜åŒ–ï¼Œä»¥åŠè§£æ³•äºŒä¸­çš„éå†è¿›è¡Œæå‰ç»ˆæ­¢ï¼Œç„¶åç›´æ¥å°†``result``çš„ä¸‹ä¸€ä¸ªç»“ç‚¹æŒ‡å‘å‰©ä½™ç»“ç‚¹ã€‚è¿›è¡Œæœ€åä¸€æ¬¡è°ƒæ•´å³å¯ã€‚

::: tip æ­¤ç®—æ³•å®ç°çš„æ•ˆç‡ä¼°è®¡å’Œè§£æ³•ä¸€çš„å·®ä¸å¤šï¼Œä½†æ˜¯æ€è·¯æ˜¯ä¸ä¸€æ ·çš„ã€‚ğŸŒšè¿˜æœ‰ï¼Œæœ€åè¿˜æ˜¯ä¼šä¿®æ”¹è¾“å…¥çš„é“¾è¡¨ã€‚
:::

#### Java Code

```java
/**
 * Definition for singly-linked list.
 * public class ListNode {
 *     int val;
 *     ListNode next;
 *     ListNode(int x) { val = x; }
 * }
 */
class Solution {
    public ListNode addTwoNumbers(ListNode l1, ListNode l2) {
        ListNode result = new ListNode(0);
        ListNode p = l1, q = l2, current = result;
        
        int carry = 0;
        while (p != null && q != null) {
            int x = p.val;
            int y = q.val;
            int sum = carry + x + y;
            carry = sum / 10;
            current.next = new ListNode(sum % 10);
            current = current.next;
            p = p.next;
            q = q.next;
        }
        
       current.next = (p == null) ? q : p; // this operation will modify the input list.
        if (current.next == null)  {
            if (carry > 0) 
               current.next  = new ListNode(1);
            return result.next; // pointer overflow check.
        }
        if (carry > 0) {
            current.next.val++;
        }
        
        format(current.next);
        return result.next;
    }
    private void format(ListNode list) {
           ListNode p = list;
        boolean flag = true;
        while (p != null) {
            flag = false;
                if (p.val > 9) {
                    flag = true;
                    p.val %= 10;
                    if (p.next == null) {
                        p.next = new ListNode(1);
                        break;
                    }
                    p.next.val++;
                }
           if (!flag) break; 
            p = p.next;
        }
    }
}
```

#### submission status

![](../../images/0002.add-two-numbers-s3.png)


## Misc

è‡³äºæäº¤ä»£ç ä¸­ï¼Œæœ€å¿«çš„æ ·æœ¬ï¼ŒğŸ™„å±…ç„¶æ˜¯ç¬¬äºŒç§è§£æ³•ï¼Œåªä¸è¿‡æŠŠä¸‰å…ƒè¿ç®—ç¬¦æ¢æˆ``if``æ¥åˆ¤æ–­è€Œå·²ã€‚
